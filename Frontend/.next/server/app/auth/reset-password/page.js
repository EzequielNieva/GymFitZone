(()=>{var e={};e.id=48,e.ids=[48],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},5931:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l}),s(3382),s(37),s(996);var a=s(170),t=s(5002),o=s(3876),n=s.n(o),i=s(6299),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(r,d);let l=["",{children:["auth",{children:["reset-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3382)),"C:\\Users\\nieva\\OneDrive\\Desktop\\Proyecto-Gym\\El_Gaalpon_de_Jose\\Frontend\\src\\app\\auth\\reset-password\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,37)),"C:\\Users\\nieva\\OneDrive\\Desktop\\Proyecto-Gym\\El_Gaalpon_de_Jose\\Frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\nieva\\OneDrive\\Desktop\\Proyecto-Gym\\El_Gaalpon_de_Jose\\Frontend\\src\\app\\auth\\reset-password\\page.tsx"],u="/auth/reset-password/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/auth/reset-password/page",pathname:"/auth/reset-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6028:(e,r,s)=>{Promise.resolve().then(s.bind(s,4512))},4512:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var a=s(7247),t=s(8964),o=s(3891),n=s(3826),i=s(4946),d=s(4178),l=s(9008);let c=()=>{let{user:e}=(0,t.useContext)(i.S),r=(0,d.useRouter)(),[s,c]=(0,t.useState)(""),[u,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=new URL(window.location.href).searchParams.get("token");e&&c(e)},[]);let m=(0,o.TA)({initialValues:{newPassword:"",confirmPassword:""},validationSchema:n.Ry({newPassword:n.Z_().required("Requerido").min(8,"La contrase\xf1a debe tener al menos 8 caracteres"),confirmPassword:n.Z_().required("Requerido").oneOf([n.iH("newPassword")],"Las contrase\xf1as deben coincidir")}),onSubmit:async e=>{p(!0);try{(await fetch(`http://localhost:3000/auth/reset-password?token=${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({newPassword:e.newPassword,confirmPassword:e.confirmPassword})})).ok?(alert("Password successfully changed"),r.push("/login")):alert("Error when changing password")}catch(e){console.error(e),alert("Error when changing password")}finally{p(!1)}}});return u?a.jsx(l.Z,{}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black text-white",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Change Password"}),(0,a.jsxs)("form",{onSubmit:m.handleSubmit,className:"bg-gray-800 p-6 rounded-md shadow-md w-96",children:[a.jsx("input",{id:"newPassword",name:"newPassword",type:"password",placeholder:"New Password",onChange:m.handleChange,value:m.values.newPassword,className:"mb-4 p-2 w-full bg-black border-2 border-red-600 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-red-600"}),m.touched.newPassword&&m.errors.newPassword?a.jsx("div",{className:"text-red-600",children:m.errors.newPassword}):null,a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm Password",onChange:m.handleChange,value:m.values.confirmPassword,className:"mb-4 p-2 w-full bg-black border-2 border-red-600 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-red-600"}),m.touched.confirmPassword&&m.errors.confirmPassword?a.jsx("div",{className:"text-red-600",children:m.errors.confirmPassword}):null,a.jsx("button",{type:"submit",className:"w-full bg-red-600 text-white py-2 rounded-md hover:bg-red-700 transition duration-200",children:"Change Password"})]})]})}},9008:(e,r,s)=>{"use strict";s.d(r,{Z:()=>o});var a=s(7247);s(8964);var t=s(6819);let o=()=>a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:a.jsx(t.p2,{height:80,width:80,color:"#FF0000",ariaLabel:"loading",visible:!0})})},3382:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});let a=(0,s(5347).createProxy)(String.raw`C:\Users\nieva\OneDrive\Desktop\Proyecto-Gym\El_Gaalpon_de_Jose\Frontend\src\app\auth\reset-password\page.tsx#default`)},3881:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});var a=s(4564);let t=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[379,568,564,106,819,763],()=>s(5931));module.exports=a})();